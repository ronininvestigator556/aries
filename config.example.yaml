# Aries Configuration
# Copy to config.yaml and customize

# Ollama settings
ollama:
  host: "http://localhost:11434"
  default_model: "llama3.2"
  embedding_model: "nomic-embed-text"
  timeout: 120

# SearXNG web search settings
search:
  searxng_url: "http://localhost:8080"
  default_results: 5
  timeout: 30
  fetch_timeout_seconds: 20
  fetch_max_bytes: 2000000
  fetch_max_redirects: 5
  extract_max_chars: 20000
  extract_max_links: 200

# RAG settings
rag:
  chunk_size: 500
  chunk_overlap: 50
  top_k: 5
  indices_dir: "./indices"

# Workspace settings
workspace:
  root: "./workspaces"
  default: null
  persist_by_default: false
  transcript_dirname: "transcripts"
  artifact_dirname: "artifacts"
  indexes_dirname: "indexes"
  manifest_name: "workspace.json"

# Profiles (preferred prompt selection)
profiles:
  directory: "./profiles"
  default: "default"
  require: false

# UI settings
ui:
  theme: "dark"
  stream_output: true
  show_thinking: false
  max_history_display: 50

# Tool settings
tools:
  shell_timeout: 30
  max_file_size_mb: 10
  allowed_extensions:
    - "*"
  allowed_paths:
    - "."
  denied_paths: []
  allow_shell: false
  allow_network: false
  confirmation_required: true

desktop_ops:
  enabled: false
  mode: "guide" # guide | commander | strict
  server_id: "desktop_commander"
  allowed_roots:
    - "."
  auto_exec_allowlist:
    - "mcp:desktop_commander:start_process:git status"
    - "mcp:desktop_commander:start_process:python --version"
  require_approval_for:
    - "WRITE_DESTRUCTIVE"
    - "EXEC_PRIVILEGED"
    - "NETWORK"
  max_steps: 40
  max_retries_per_step: 2
  process_poll:
    initial_ms: 250
    max_ms: 2000
    max_idle_seconds: 30
    max_total_seconds: 900

providers:
  strict_metadata: false
  strict_metadata_max_issues: 25
  mcp:
    enabled: false
    require: false
    servers: []

# Policy display settings
policy:
  show_verbose: false
  inventory_max_issues: 10
  inventory_verbose_limit: 200

# Conversation context settings
conversation:
  max_context_tokens: 4096
  max_messages: 100
  encoding: "cl100k_base"

tokens:
  mode: "approx"  # options: approx, tiktoken, disabled
  encoding: "cl100k_base"
  approx_chars_per_token: 4

# Prompts settings (legacy fallback for migration)
prompts:
  directory: "./prompts"
  default: "default"
